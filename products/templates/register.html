{% extends 'base.html' %}

{% block content %}





<div class="container">
    <div class="mt-5 pt-4">
        {% if request.user.is_authenticated %}
            <div class="alert alert-primary alert-dismissible fade show" role="alert">
             Hi! {{ request.user }} you already have an account. <br> Log out to create a new account
                <hr>
             <a class="btn btn-primary" role="button" aria-pressed="true" href="{% url 'product_urls:logout-page' %}">Log Out</a>
            </div>
        {% else %}
    </div>
</div>
<div class="container">
<div class="row justify-content-center">
<div class="card bg-light m-5 p-5">
<h4 class="card-title text-center">Create Account</h4>
<p class="text-center">Get started with your free account</p>
<form  class="signup-form subscribe-form justify-content-md-center mt-3" method="post">
    {% csrf_token %}

    <div class="form-row">
        <div class="form-group">
            {% for field in form %}
            <p>
                {{ field.label_tag }}<br>
                {{ field }}
                {% if field.help_text %}
                <small style="color: grey">{{ field.help_text }}</small>
                {% endif %}
                {% for error in field.errors %}
                    <p style="color: red">{{ error }}</p>
                {% endfor %}
            </p>
            {% endfor %}
        </div>
    </div>


    <!--{{form.as_p}}-->
    <button type="submit" name="CreateUserForm" class="btn btn-outline-primary btn-block">Sign Up</button>
</form>
    <p class="text-center pt-2">Have an account? <a href="{% url 'product_urls:login-page' %}">Log In</a> </p>
</div>
</div>
</div>
<script>
    var form_fields=document.getElementsByTagName('input')
    for(var field in form_fields){
        form_fields[field].className+='form-control'
    }


</script>
{% endif %}
{% endblock %}